var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n||null)}function a(t){t.parentNode.removeChild(t)}function c(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}let h;function m(t){h=t}function v(t){(function(){if(!h)throw new Error("Function called outside component initialization");return h})().$$.on_mount.push(t)}const y=[],$=[],w=[],x=[],b=Promise.resolve();let k=!1;function E(t){w.push(t)}let _=!1;const T=new Set;function C(){if(!_){_=!0;do{for(let t=0;t<y.length;t+=1){const e=y[t];m(e),B(e.$$)}for(m(null),y.length=0;$.length;)$.pop()();for(let t=0;t<w.length;t+=1){const e=w[t];T.has(e)||(T.add(e),e())}w.length=0}while(y.length);for(;x.length;)x.pop()();k=!1,_=!1,T.clear()}}function B(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const D=new Set;let I;function L(t,e){t&&t.i&&(D.delete(t),t.i(e))}function A(t,e,n,o){if(t&&t.o){if(D.has(t))return;D.add(t),I.c.push((()=>{D.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function N(t,n,l,i){const{fragment:s,on_mount:a,on_destroy:c,after_update:u}=t.$$;s&&s.m(n,l),i||E((()=>{const n=a.map(e).filter(r);c?c.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(E)}function H(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function O(t,e){-1===t.$$.dirty[0]&&(y.push(t),k||(k=!0,b.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(e,r,l,i,s,c,u,d=[-1]){const f=h;m(e);const p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:r.context||[]),callbacks:n(),dirty:d,skip_bound:!1,root:r.target||f.$$.root};u&&u(p.root);let g=!1;if(p.ctx=l?l(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),g&&O(e,t)),n})):[],p.update(),g=!0,o(p.before_update),p.fragment=!!i&&i(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(a)}else p.fragment&&p.fragment.c();r.intro&&L(e.$$.fragment),N(e,r.target,r.anchor,r.customElement),C()}m(f)}class j{$destroy(){H(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function q(e){let n,r,l,c,h,m,v,y,$,w,x,b,k,E,_,T;return{c(){n=u("div"),r=u("span"),l=d(e[1]),c=f(),h=u("div"),m=u("ul"),v=u("li"),v.textContent="input",y=f(),$=u("ul"),w=u("li"),w.textContent="output",x=f(),b=u("li"),b.textContent="output",k=f(),E=u("li"),E.textContent="output",g(r,"class","head svelte-h8a7pp"),g(r,"draggable","true"),g(v,"draggable","true"),g(v,"class","svelte-h8a7pp"),g(m,"class","input svelte-h8a7pp"),g(w,"draggable","true"),g(w,"class","svelte-h8a7pp"),g(b,"draggable","true"),g(b,"class","svelte-h8a7pp"),g(E,"draggable","true"),g(E,"class","svelte-h8a7pp"),g($,"class","output svelte-h8a7pp"),g(h,"class","sockets svelte-h8a7pp"),g(n,"class","node svelte-h8a7pp")},m(t,o){s(t,n,o),i(n,r),i(r,l),i(n,c),i(n,h),i(h,m),i(m,v),i(h,y),i(h,$),i($,w),i($,x),i($,b),i($,k),i($,E),e[4](n),_||(T=[p(r,"dragend",S),p(r,"dragstart",F),p(r,"drag",Y),p(v,"dragend",S),p(v,"dragstart",Y),p(w,"dragend",S),p(w,"dragstart",Y),p(b,"dragend",S),p(b,"dragstart",Y),p(E,"dragend",S),p(E,"dragstart",Y)],_=!0)},p(t,[e]){2&e&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(l,t[1])},i:t,o:t,d(t){t&&a(n),e[4](null),_=!1,o(T)}}}function F(t){t.preventDefault(),console.log(t),this.style.opacity="0.4"}function S(t){t.preventDefault(),console.log(t),this.style.opacity="1"}function Y(t){console.log(t),t.dataTransfer.setDragImage(new Image,0,0)}function X(t,e,n){let o,{nodeTitle:r}=e,{pos:l}=e,i="";return v((t=>{if(new AudioContext,r.includes("create")){const t=r.slice(6,r.length);n(1,i=t)}else n(1,i=r);let e=o.offsetWidth,s=o.offsetHeight;n(0,o.style.left=l.x-e/2+"px",o),n(0,o.style.top=l.y-s/2+"px",o),console.log(o.offsetWidth)})),t.$$set=t=>{"nodeTitle"in t&&n(2,r=t.nodeTitle),"pos"in t&&n(3,l=t.pos)},[o,i,r,l,function(t){$[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class z extends j{constructor(t){super(),W(this,t,X,q,l,{nodeTitle:2,pos:3})}}function M(t,e,n){const o=t.slice();return o[8]=e[n].name,o[9]=e[n].x,o[10]=e[n].y,o}function P(t,e,n){const o=t.slice();return o[13]=e[n],o}function G(t,e,n){const o=t.slice();return o[8]=e[n].name,o[16]=e[n].method,o[18]=n,o}function J(t){let e,n,o,r,l,c,h=t[8]+"";return{c(){var l;e=u("li"),n=d(h),o=f(),g(e,"class",(l=window.opener||2!=t[18]?"":"hide",r=(null==l?"":l)+" svelte-k5ydei"))},m(r,a){s(r,e,a),i(e,n),i(e,o),l||(c=p(e,"mousedown",t[16]),l=!0)},p(e,n){t=e},d(t){t&&a(e),l=!1,c()}}}function K(e){let n,o,r,l,c,h=e[13]+"";return{c(){n=u("li"),o=d(h),r=f(),g(n,"draggable","true"),g(n,"class","svelte-k5ydei")},m(t,e){s(t,n,e),i(n,o),i(n,r),l||(c=p(n,"dragstart",tt),l=!0)},p:t,d(t){t&&a(n),l=!1,c()}}}function Q(t){let e,n;return e=new z({props:{nodeTitle:t[8],pos:{x:t[9],y:t[10]}}}),{c(){var t;(t=e.$$.fragment)&&t.c()},m(t,o){N(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.nodeTitle=t[8]),1&n&&(o.pos={x:t[9],y:t[10]}),e.$set(o)},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){A(e.$$.fragment,t),n=!1},d(t){H(e,t)}}}function R(t){let e,n,r,l,d,h,m,v,y,$,w,x,b,k,E,_=t[2],T=[];for(let e=0;e<_.length;e+=1)T[e]=J(G(t,_,e));let C=t[1],B=[];for(let e=0;e<C.length;e+=1)B[e]=K(P(t,C,e));let D=t[0],N=[];for(let e=0;e<D.length;e+=1)N[e]=Q(M(t,D,e));const H=t=>A(N[t],1,1,(()=>{N[t]=null}));return{c(){e=u("main"),n=u("div"),r=u("ul");for(let t=0;t<T.length;t+=1)T[t].c();l=f(),d=u("div"),h=u("div"),m=u("ul");for(let t=0;t<B.length;t+=1)B[t].c();v=f(),y=u("div"),$=u("div");for(let t=0;t<N.length;t+=1)N[t].c();w=f(),x=u("div"),g(r,"class","menu svelte-k5ydei"),g(r,"id","window"),g(n,"id","top"),g(n,"class","svelte-k5ydei"),g(m,"class","menu svelte-k5ydei"),g(h,"id","pallet"),g(h,"class","svelte-k5ydei"),g($,"id","innerContainer"),g(y,"id","container"),g(y,"class","svelte-k5ydei"),g(d,"id","mid"),g(d,"class","svelte-k5ydei"),g(x,"id","bot"),g(x,"class","svelte-k5ydei"),g(e,"id","main"),g(e,"class","svelte-k5ydei")},m(o,a){s(o,e,a),i(e,n),i(n,r);for(let t=0;t<T.length;t+=1)T[t].m(r,null);i(e,l),i(e,d),i(d,h),i(h,m);for(let t=0;t<B.length;t+=1)B[t].m(m,null);i(d,v),i(d,y),i(y,$);for(let t=0;t<N.length;t+=1)N[t].m($,null);i(e,w),i(e,x),b=!0,k||(E=[p(y,"dragover",Z),p(y,"drop",t[3])],k=!0)},p(t,[e]){if(4&e){let n;for(_=t[2],n=0;n<_.length;n+=1){const o=G(t,_,n);T[n]?T[n].p(o,e):(T[n]=J(o),T[n].c(),T[n].m(r,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=_.length}if(2&e){let n;for(C=t[1],n=0;n<C.length;n+=1){const o=P(t,C,n);B[n]?B[n].p(o,e):(B[n]=K(o),B[n].c(),B[n].m(m,null))}for(;n<B.length;n+=1)B[n].d(1);B.length=C.length}if(1&e){let n;for(D=t[0],n=0;n<D.length;n+=1){const o=M(t,D,n);N[n]?(N[n].p(o,e),L(N[n],1)):(N[n]=Q(o),N[n].c(),L(N[n],1),N[n].m($,null))}for(I={r:0,c:[],p:I},n=D.length;n<N.length;n+=1)H(n);I.r||o(I.c),I=I.p}},i(t){if(!b){for(let t=0;t<D.length;t+=1)L(N[t]);b=!0}},o(t){N=N.filter(Boolean);for(let t=0;t<N.length;t+=1)A(N[t]);b=!1},d(t){t&&a(e),c(T,t),c(B,t),c(N,t),k=!1,o(E)}}}function U(){let t=window.innerWidth,e=window.innerHeight;window.open(window.location.href,"","width="+t+",height="+e+",fullscreen=true")}function V(){window.close()}function Z(t){t.preventDefault()}function tt(t){t.dataTransfer.setData("nodeName",t.target.innerText)}function et(t,e,n){let o=[],r=[],l=[{name:"break window",method:U},{name:"fullscreen",method:function(){let t=document.querySelector("main");s?(document.exitFullscreen(),s=!1):(t.requestFullscreen(),s=!0)}},{name:"close window",method:V}],i=new AudioContext,s=!1,a=!1;for(let t in i)o.push(t);return v((()=>{let t=1,e=0,n=0;document.getElementById("container").addEventListener("mousedown",(t=>{1==t.button&&(a=!0)})),document.getElementById("container").addEventListener("mousemove",(t=>{var o,r;a&&(e+=t.movementX,n+=t.movementY,o=e,r=n,document.getElementById("innerContainer").style.transform="translate("+o+"px, "+r+"px)")})),document.getElementById("container").addEventListener("mouseup",(t=>{a&&(a=!1)})),document.getElementById("container").addEventListener("wheel",(e=>{t>0?t-=e.deltaY/1e3:t=.01,function(t){let e=document.getElementById("innerContainer");e.style.transformOrigin=e.offsetWidth/2+"px "+(e.offsetHeight/2+window.innerHeight/2)+"px",e.style.transform="scale("+t+")"}(t)})),document.addEventListener("contextmenu",(t=>(t.preventDefault(),!1)))})),[r,o,l,function(t){let e=t.dataTransfer.getData("nodeName");n(0,r=[...r,{name:e,x:t.layerX,y:t.layerY}]),t.preventDefault()}]}return new class extends j{constructor(t){super(),W(this,t,et,R,l,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
