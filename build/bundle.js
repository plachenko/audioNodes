var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function a(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}let h;function x(t){h=t}function v(t){(function(){if(!h)throw new Error("Function called outside component initialization");return h})().$$.on_mount.push(t)}const $=[],y=[],w=[],b=[],_=Promise.resolve();let k=!1;function E(t){w.push(t)}let q=!1;const T=new Set;function C(){if(!q){q=!0;do{for(let t=0;t<$.length;t+=1){const e=$[t];x(e),D(e.$$)}for(x(null),$.length=0;y.length;)y.pop()();for(let t=0;t<w.length;t+=1){const e=w[t];T.has(e)||(T.add(e),e())}w.length=0}while($.length);for(;b.length;)b.pop()();k=!1,q=!1,T.clear()}}function D(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const L=new Set;let A;function N(t,e){t&&t.i&&(L.delete(t),t.i(e))}function B(t,e,n,o){if(t&&t.o){if(L.has(t))return;L.add(t),A.c.push((()=>{L.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function I(t,n,l,s){const{fragment:i,on_mount:c,on_destroy:u,after_update:a}=t.$$;i&&i.m(n,l),s||E((()=>{const n=c.map(e).filter(r);u?u.push(...n):o(n),t.$$.on_mount=[]})),a.forEach(E)}function O(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function j(t,e){-1===t.$$.dirty[0]&&($.push(t),k||(k=!0,_.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function F(e,r,l,s,i,u,a,d=[-1]){const f=h;x(e);const p=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:r.context||[]),callbacks:n(),dirty:d,skip_bound:!1,root:r.target||f.$$.root};a&&a(p.root);let m=!1;if(p.ctx=l?l(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&i(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),m&&j(e,t)),n})):[],p.update(),m=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);p.fragment&&p.fragment.l(t),t.forEach(c)}else p.fragment&&p.fragment.c();r.intro&&N(e.$$.fragment),I(e,r.target,r.anchor,r.customElement),C()}x(f)}class H{$destroy(){O(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function S(e){let n,r,l,u,h,x,v,$,y,w,b,_;return{c(){n=a("div"),r=a("span"),l=d(e[1]),u=f(),h=a("div"),x=a("ul"),v=a("li"),v.textContent="input",$=f(),y=a("ul"),w=a("li"),w.textContent="output",m(r,"class","head svelte-dkxce8"),m(r,"draggable","true"),m(v,"draggable","true"),m(v,"class","svelte-dkxce8"),m(x,"class","input svelte-dkxce8"),m(w,"draggable","true"),m(w,"class","svelte-dkxce8"),m(y,"class","output svelte-dkxce8"),m(h,"class","sockets svelte-dkxce8"),m(n,"class","node svelte-dkxce8"),g(n,"left",e[0].x+"px"),g(n,"top",e[0].y+"px")},m(t,e){i(t,n,e),s(n,r),s(r,l),s(n,u),s(n,h),s(h,x),s(x,v),s(h,$),s(h,y),s(y,w),b||(_=[p(r,"dragend",P),p(r,"dragstart",Y),p(r,"drag",W),p(v,"dragend",P),p(v,"dragstart",W),p(w,"dragend",P),p(w,"dragstart",W)],b=!0)},p(t,[e]){2&e&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(l,t[1]),1&e&&g(n,"left",t[0].x+"px"),1&e&&g(n,"top",t[0].y+"px")},i:t,o:t,d(t){t&&c(n),b=!1,o(_)}}}function Y(t){t.preventDefault(),console.log(t),this.style.opacity="0.4"}function P(t){t.preventDefault(),console.log(t),this.style.opacity="1"}function W(t){t.preventDefault(),t.dataTransfer.setDragImage(new Image,0,0)}function X(t,e,n){let{nodeTitle:o}=e,{pos:r}=e,l="";return v((t=>{let e=new AudioContext;if(o.includes("create")){const t=o.slice(6,o.length);n(1,l=t)}else n(1,l=o);for(let t in e[o])console.log(t)})),t.$$set=t=>{"nodeTitle"in t&&n(2,o=t.nodeTitle),"pos"in t&&n(0,r=t.pos)},[r,l,o]}class z extends H{constructor(t){super(),F(this,t,X,S,l,{nodeTitle:2,pos:0})}}function M(t,e,n){const o=t.slice();return o[8]=e[n].name,o[9]=e[n].x,o[10]=e[n].y,o}function G(t,e,n){const o=t.slice();return o[13]=e[n],o}function J(t,e,n){const o=t.slice();return o[8]=e[n].name,o[16]=e[n].method,o[18]=n,o}function K(t){let e,n,o,r,l,u,g=t[8]+"";return{c(){var l;e=a("li"),n=d(g),o=f(),m(e,"class",(l=window.opener||2!=t[18]?"":"hide",r=(null==l?"":l)+" svelte-rou1qx"))},m(r,c){i(r,e,c),s(e,n),s(e,o),l||(u=p(e,"mousedown",t[16]),l=!0)},p(e,n){t=e},d(t){t&&c(e),l=!1,u()}}}function Q(e){let n,o,r,l,u,g=e[13]+"";return{c(){n=a("li"),o=d(g),r=f(),m(n,"draggable","true"),m(n,"class","svelte-rou1qx")},m(t,e){i(t,n,e),s(n,o),s(n,r),l||(u=p(n,"dragstart",et),l=!0)},p:t,d(t){t&&c(n),l=!1,u()}}}function R(t){let e,n;return e=new z({props:{nodeTitle:t[8],pos:{x:t[9],y:t[10]}}}),{c(){var t;(t=e.$$.fragment)&&t.c()},m(t,o){I(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.nodeTitle=t[8]),1&n&&(o.pos={x:t[9],y:t[10]}),e.$set(o)},i(t){n||(N(e.$$.fragment,t),n=!0)},o(t){B(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function U(t){let e,n,r,l,d,g,h,x,v,$,y,w,b,_,k,E=t[2],q=[];for(let e=0;e<E.length;e+=1)q[e]=K(J(t,E,e));let T=t[1],C=[];for(let e=0;e<T.length;e+=1)C[e]=Q(G(t,T,e));let D=t[0],L=[];for(let e=0;e<D.length;e+=1)L[e]=R(M(t,D,e));const I=t=>B(L[t],1,1,(()=>{L[t]=null}));return{c(){e=a("main"),n=a("div"),r=a("ul");for(let t=0;t<q.length;t+=1)q[t].c();l=f(),d=a("div"),g=a("div"),h=a("ul");for(let t=0;t<C.length;t+=1)C[t].c();x=f(),v=a("div"),$=a("div");for(let t=0;t<L.length;t+=1)L[t].c();y=f(),w=a("div"),m(r,"class","menu svelte-rou1qx"),m(r,"id","window"),m(n,"id","top"),m(n,"class","svelte-rou1qx"),m(h,"class","menu svelte-rou1qx"),m(g,"id","pallet"),m(g,"class","svelte-rou1qx"),m($,"id","innerContainer"),m(v,"id","container"),m(v,"class","svelte-rou1qx"),m(d,"id","mid"),m(d,"class","svelte-rou1qx"),m(w,"id","bot"),m(w,"class","svelte-rou1qx"),m(e,"id","main"),m(e,"class","svelte-rou1qx")},m(o,c){i(o,e,c),s(e,n),s(n,r);for(let t=0;t<q.length;t+=1)q[t].m(r,null);s(e,l),s(e,d),s(d,g),s(g,h);for(let t=0;t<C.length;t+=1)C[t].m(h,null);s(d,x),s(d,v),s(v,$);for(let t=0;t<L.length;t+=1)L[t].m($,null);s(e,y),s(e,w),b=!0,_||(k=[p(v,"dragover",tt),p(v,"drop",t[3])],_=!0)},p(t,[e]){if(4&e){let n;for(E=t[2],n=0;n<E.length;n+=1){const o=J(t,E,n);q[n]?q[n].p(o,e):(q[n]=K(o),q[n].c(),q[n].m(r,null))}for(;n<q.length;n+=1)q[n].d(1);q.length=E.length}if(2&e){let n;for(T=t[1],n=0;n<T.length;n+=1){const o=G(t,T,n);C[n]?C[n].p(o,e):(C[n]=Q(o),C[n].c(),C[n].m(h,null))}for(;n<C.length;n+=1)C[n].d(1);C.length=T.length}if(1&e){let n;for(D=t[0],n=0;n<D.length;n+=1){const o=M(t,D,n);L[n]?(L[n].p(o,e),N(L[n],1)):(L[n]=R(o),L[n].c(),N(L[n],1),L[n].m($,null))}for(A={r:0,c:[],p:A},n=D.length;n<L.length;n+=1)I(n);A.r||o(A.c),A=A.p}},i(t){if(!b){for(let t=0;t<D.length;t+=1)N(L[t]);b=!0}},o(t){L=L.filter(Boolean);for(let t=0;t<L.length;t+=1)B(L[t]);b=!1},d(t){t&&c(e),u(q,t),u(C,t),u(L,t),_=!1,o(k)}}}function V(){let t=window.innerWidth,e=window.innerHeight;window.open(window.location.href,"","width="+t+",height="+e+",fullscreen=true")}function Z(){window.close()}function tt(t){t.preventDefault()}function et(t){t.dataTransfer.setData("nodeName",t.target.innerText)}function nt(t,e,n){let o=[],r=[],l=[{name:"break window",method:V},{name:"fullscreen",method:function(){let t=document.querySelector("main");i?(document.exitFullscreen(),i=!1):(t.requestFullscreen(),i=!0)}},{name:"close window",method:Z}],s=new AudioContext,i=!1,c=!1;for(let t in s)o.push(t);return v((()=>{let t=1,e=0,n=0;document.addEventListener("mousedown",(t=>{1==t.button&&(c=!0),console.log(t.button)})),document.addEventListener("mousemove",(t=>{var o,r;c&&(e+=t.movementX,n+=t.movementY,o=e,r=n,document.getElementById("innerContainer").style.transform="translate("+o+"px, "+r+"px)",console.log(o,r))})),document.addEventListener("mouseup",(t=>{c&&(c=!1)})),document.addEventListener("wheel",(e=>{t>0?t-=e.deltaY/1e3:t=.01,function(t){let e=document.getElementById("innerContainer");e.style.transformOrigin=e.offsetWidth/2+"px "+(e.offsetHeight/2+window.innerHeight/2)+"px",e.style.transform="scale("+t+")"}(t)})),document.addEventListener("contextmenu",(t=>(t.preventDefault(),!1)))})),[r,o,l,function(t){let e=t.dataTransfer.getData("nodeName");n(0,r=[...r,{name:e,x:t.layerX,y:t.layerY}]),t.preventDefault()}]}return new class extends H{constructor(t){super(),F(this,t,nt,U,l,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
